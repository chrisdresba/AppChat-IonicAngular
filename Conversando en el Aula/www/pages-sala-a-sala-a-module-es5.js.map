{"version":3,"sources":["webpack:///src/app/pages/sala-a/sala-a.page.html","webpack:///src/app/pages/sala-a/sala-a.module.ts","webpack:///src/app/pages/sala-a/sala-a-routing.module.ts","webpack:///src/app/pages/sala-a/sala-a.page.ts","webpack:///src/app/pages/sala-a/sala-a.page.scss"],"names":["SalaAPageModule","imports","declarations","routes","path","component","SalaAPageRoutingModule","forChild","exports","SalaAPage","authSrv","router","loadingController","toast","chat","firestore","usuario","listado","listadoMensajes","mensaje","presentLoading","setTimeout","ordenarMensajes","localStorage","getItem","getMensajesA","subscribe","aux","sort","a","b","referencia","guardarMensajeA","create","spinner","message","duration","translucent","cssClass","loading","present","onDidDismiss","role","data","header","color","position","removeItem","SignOut","navigate","selector","template"],"mappings":"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","file":"pages-sala-a-sala-a-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title slot=\\\"start\\\"> SALA PPS-4A </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n  <ion-fab-button color=\\\"dark\\\" style=\\\"width:45px;height:45px;margin-top:-5px\\\">\\n    <ion-icon name=\\\"exit-outline\\\"></ion-icon>\\n  </ion-fab-button>\\n  <ion-fab-list side=\\\"bottom\\\">\\n    <ion-fab-button color=\\\"dark\\\" (click)=\\\"back()\\\">\\n      <ion-icon name=\\\"arrow-back-circle\\\"></ion-icon>\\n    </ion-fab-button>\\n    <ion-fab-button color=\\\"dark\\\" (click)=\\\"Logout()\\\">\\n      <ion-icon name=\\\"exit-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab-list>\\n</ion-fab>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row *ngFor=\\\"let message of listadoMensajes\\\">\\n        <ion-card *ngIf=\\\"message.usuario !== usuario\\\">\\n          <ion-card-header title=\\\"{{message.usuario}}\\\" class=\\\"cardHeader\\\">\\n            {{message.usuario}}\\n          </ion-card-header>\\n          <ion-card-content class=\\\"cardContent\\\">\\n            {{message.mensaje }}\\n            <p class=\\\"hora\\\">{{message.fecha}} - {{message.hora}}</p>\\n          </ion-card-content>\\n        </ion-card>\\n        <ion-card class=\\\"soyYo\\\" *ngIf=\\\"message.usuario === usuario\\\">\\n          <ion-card-content>\\n            {{message.mensaje }}  \\n            <p class=\\\"hora\\\">{{message.fecha}} - {{message.hora}}</p>\\n          </ion-card-content>\\n        </ion-card>\\n    </ion-row>\\n  </ion-grid> \\n</ion-content>\\n\\n<ion-footer>\\n  <ion-input [(ngModel)]=\\\"mensaje\\\" maxlength=\\\"21\\\" type=\\\"text\\\" name=\\\"\\\" id=\\\"\\\"></ion-input>\\n  <ion-button (click)=\\\" guardarMensaje()\\\" >Enviar</ion-button>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SalaAPageRoutingModule } from './sala-a-routing.module';\n\nimport { SalaAPage } from './sala-a.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SalaAPageRoutingModule\n  ],\n  declarations: [SalaAPage]\n})\nexport class SalaAPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SalaAPage } from './sala-a.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SalaAPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SalaAPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { Mensaje } from 'src/app/class/mensaje';\nimport { Observable } from 'rxjs';\nimport { MensajeService } from 'src/app/services/mensaje.service';\nimport { map } from 'rxjs/operators';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n\n@Component({\n  selector: 'app-sala-a',\n  templateUrl: './sala-a.page.html',\n  styleUrls: ['./sala-a.page.scss'],\n})\nexport class SalaAPage implements OnInit {\n\n  public usuario:string='';\n  public listado: Array<any>= [];\n  public listadoMensajes: Array<any>= [];\n  public mensaje:string = '';\n  \n\n  constructor(\n    public authSrv: AuthService,\n    private router: Router,\n    public loadingController: LoadingController,\n    private toast: ToastController,\n    public chat: MensajeService,\n    public firestore: AngularFirestore\n  ) { \n    this.presentLoading();\n    setTimeout(()=>{\n      this.ordenarMensajes()\n    },2000)\n  }\n\n  ngOnInit() {\n    this.usuario = localStorage.getItem('usuario');\n  //  this.listadoMensajes = this.chat.chatsA;\n  this.chat.getMensajesA().subscribe(aux => {\n    this.listado = aux;\n  })\n  this.ordenarMensajes();\n  \n  }\n\n  ordenarMensajes(){\n    this.listadoMensajes = this.listado.sort((a?, b?) => (((a.referencia! > b.referencia!)) ? 1 : -1));\n  }\n  guardarMensaje() {\n    this.chat.guardarMensajeA(this.usuario, this.mensaje);\n    setTimeout(()=>{\n      this.ordenarMensajes();\n    },500)\n    this.mensaje = '';\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      spinner: 'circles',\n      message: 'Cargando...',\n      duration: 2000,\n      translucent: true,\n\n      cssClass: 'my-loading-class'\n\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n\n  }\n\n  async presentToast(header: string, message: string, color: string) {\n    const toast = await this.toast.create({\n      header,\n      message,\n      color,\n      duration: 2000,\n      position: \"middle\"\n    });\n    toast.present();\n  }\n\n  Logout() {\n    localStorage.removeItem('usuario');\n    this.authSrv.SignOut();\n    this.router.navigate([\"login\"]);\n  }\n\n  back(){\n    this.router.navigate([\"home\"]);\n  }\n\n}\n","export default \"@import url(\\\"https://fonts.googleapis.com/css2?family=Acme&display=swap\\\");\\nion-toolbar {\\n  --background: #188ba0;\\n  font-family: \\\"Acme\\\", sans-serif;\\n  color: aliceblue;\\n  font-size: 1.5em;\\n  height: 8vh;\\n}\\nion-title {\\n  font-size: 1.5em;\\n}\\nion-content {\\n  --background: url('fondo.png') no-repeat center;\\n  overflow: hidden;\\n  background-attachment: fixed;\\n  background-size: cover;\\n  height: 87vh;\\n}\\nion-button {\\n  margin: 0;\\n}\\nion-footer {\\n  display: flex;\\n  flex-direction: row;\\n  height: 5vh;\\n}\\nion-input {\\n  --background:rgb(234, 247, 255) ;\\n  --color:#000;\\n}\\nion-card-header {\\n  background-color: rgba(128, 128, 128, 0.1);\\n  background: transparent;\\n  font-weight: bold;\\n  margin-bottom: -10px;\\n}\\n.soyYo {\\n  position: relative;\\n  margin-left: auto;\\n}\\n.hora {\\n  position: relative;\\n  float: right;\\n  font-size: 8px;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NhbGEtYS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQVEseUVBQUE7QUFFUjtFQUNJLHFCQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQUFKO0FBRUE7RUFDSSxnQkFBQTtBQUNKO0FBRUE7RUFDSSwrQ0FBQTtFQUNILGdCQUFBO0VBQ0EsNEJBQUE7RUFDQSxzQkFBQTtFQUNHLFlBQUE7QUFDSjtBQUVBO0VBQ0ksU0FBQTtBQUNKO0FBRUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBQ0o7QUFDQTtFQUNJLGdDQUFBO0VBQ0EsWUFBQTtBQUVKO0FBRUE7RUFDSSwwQ0FBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNKO0FBRUE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FBQ0o7QUFDQTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQUVKIiwiZmlsZSI6InNhbGEtYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1BY21lJmRpc3BsYXk9c3dhcCcpO1xuXG5pb24tdG9vbGJhcntcbiAgICAtLWJhY2tncm91bmQ6ICMxODhiYTA7XG4gICAgZm9udC1mYW1pbHk6ICdBY21lJywgc2Fucy1zZXJpZjtcbiAgICBjb2xvcjogYWxpY2VibHVlO1xuICAgIGZvbnQtc2l6ZTogMS41ZW07XG4gICAgaGVpZ2h0OiA4dmg7XG59XG5pb24tdGl0bGV7XG4gICAgZm9udC1zaXplOiAxLjVlbTtcbn1cblxuaW9uLWNvbnRlbnR7XG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoXCIuLy4uLy4uLy4uL2Fzc2V0cy9mb25kby5wbmdcIikgbm8tcmVwZWF0IGNlbnRlcjtcblx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0YmFja2dyb3VuZC1hdHRhY2htZW50OiBmaXhlZDtcblx0YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBoZWlnaHQ6IDg3dmg7XG59XG5cbmlvbi1idXR0b257XG4gICAgbWFyZ2luOiAwO1xufVxuXG5pb24tZm9vdGVye1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBoZWlnaHQ6IDV2aDtcbn1cbmlvbi1pbnB1dHtcbiAgICAtLWJhY2tncm91bmQ6cmdiKDIzNCwgMjQ3LCAyNTUpIDtcbiAgICAtLWNvbG9yOiMwMDA7XG59XG5cblxuaW9uLWNhcmQtaGVhZGVye1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4xKTtcbiAgICBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbi1ib3R0b206IC0xMHB4O1xufVxuXG4uc295WW97IFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbn1cbi5ob3Jhe1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmbG9hdDpyaWdodDtcbiAgICBmb250LXNpemU6IDhweDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufSJdfQ== */\";"]}